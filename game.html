<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Oracle's Arena - A GenLayer Game</title>
    <style>
        /* === The Vibe === */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap');

        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --text-primary: #c9d1d9;
            --accent-blue: #58a6ff;
            --accent-gold: #d4a017;
            --accent-purple: #bf85ff;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-image: radial-gradient(circle at 10% 20%, rgba(88, 166, 255, 0.1) 0%, transparent 50%),
                            radial-gradient(circle at 80% 80%, rgba(191, 133, 255, 0.1) 0%, transparent 50%);
        }

        .game-container {
            width: 90%;
            max-width: 800px;
            background: var(--bg-secondary);
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(88, 166, 255, 0.2);
        }

        h1, h2 {
            font-family: 'Orbitron', sans-serif;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        h1 { color: var(--accent-blue); }
        h2 { color: var(--accent-purple); margin-top: 0;}

        #prompt-display {
            background: var(--bg-primary);
            border: 1px dashed var(--accent-blue);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.4rem;
            margin: 20px 0;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
        }
        
        #prompt-display.active {
             border-color: var(--accent-gold);
             box-shadow: 0 0 15px rgba(212, 160, 23, 0.3);
        }


        #submission-area {
            margin-top: 20px;
        }
        
        #artifact-input {
            width: 100%;
            background: #010409;
            border: 1px solid #30363d;
            border-radius: 6px;
            padding: 15px;
            color: var(--text-primary);
            font-family: 'Share Tech Mono', monospace;
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
            margin-bottom: 15px;
        }

        .button {
            display: block;
            width: 100%;
            padding: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .button-primary {
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            color: white;
        }
        .button-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(88, 166, 255, 0.4);
        }

        .button-secondary {
             background: transparent;
             color: var(--accent-gold);
             border: 1px solid var(--accent-gold);
        }
        .button-secondary:hover {
            background: var(--accent-gold);
            color: var(--bg-primary);
        }
        
        #judging-area {
            display: none; /* Hidden at first */
            margin-top: 30px;
        }
        
        .artifact-card {
            background: var(--bg-primary);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
        }

        .artifact-card h4 {
            color: var(--accent-blue);
            margin-top: 0;
        }

        #result-area {
            display: none; /* Hidden at first */
            text-align: center;
            margin-top: 30px;
        }
        
        #result-area h2 {
            color: var(--accent-gold);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <main class="game-container">
        <header>
            <h1>The Oracle's Arena</h1>
        </header>

        <!-- SECTION 1: Prompt Generation -->
        <section id="prompt-section">
            <h2>1. The Oracle's Prophecy</h2>
            <div id="prompt-display">Awaiting the Oracle's wisdom...</div>
            <button id="generate-btn" class="button button-secondary">Summon Prompt</button>
        </section>

        <!-- SECTION 2: Player Submission -->
        <section id="submission-area" class="hidden">
            <h2>2. Your Artifact</h2>
            <p>Channel the prophecy into a poem, short story, or description.</p>
            <textarea id="artifact-input" placeholder="The universe holds its breath..."></textarea>
            <button id="submit-btn" class="button button-primary">Submit to the Oracle</button>
        </section>
        
        <!-- SECTION 3: The Judging -->
        <section id="judging-area">
            <h2>3. The Oracle's Judgment</h2>
            <p>The AI Oracle analyzes the artifacts...</p>
            <div class="artifact-card">
                <h4>Your Artifact:</h4>
                <p id="player-artifact"></p>
            </div>
            <div class="artifact-card">
                <h4>Opponent's Artifact:</h4>
                <p id="opponent-artifact"></p>
            </div>
            <button id="reveal-btn" class="button button-primary">Reveal Winner</button>
        </section>

        <!-- SECTION 4: The Result -->
        <section id="result-area">
            <!-- Winner text will be injected here by JavaScript -->
        </section>

        <footer style="text-align: center; margin-top: 40px; font-size: 0.8rem; color: #888;">
            Powered by GenLayer's Intelligent Contracts
        </footer>
    </main>

<script>
// === THE BRAIN OF THE GAME ===

// --- Our Fake Data ---
const prompts = [
    "The sound of forgotting your password.",
    "A tomato's existential crisis.",
    "The most relaxing button-mashing video game.",
    "The physical feeling of a 'vibe check'.",
    "An advertisement for a cloud.",
    "A Complex Emotion"
];

const opponentArtifacts = [
    "It has the QWERTY layout, but each key is a small, whimpering dog.",
    "Red. Round. Sad.",
    "You just hold down the 'A' button. The screen is a soft gradient. You win.",
    "Like a soft static, but with a low hum of approval",
    "Buy the sky. It's 70% off today only.",
    "Feeling melancholy while being very productive."
];

// *** NEW DATA ARRAYS START HERE ***
const reasoningPhrases = [
    "The quantum resonance of this submission is undeniable.",
    "Its adherence to the 'non-Euclidean narrative structure' was superior.",
    "The emotional vector pointed directly at the prompt's core matrix.",
    "Analysis shows optimal syntactic harmony with the initial prophecy.",
    "This artifact displayed a superior engagement of computational pathos.",
    "The semantic density was simply on another level."
];

const reasoningMoments = [
    "especially in the way it concluded.",
    "particularly in the mid-section.",
    "from the very first word.",
    "in its defiant use of lowercase.",
    "during the poignant silence between the lines.",
    "which was a bold move, honestly."
];

// --- Getting Our Elements from the Page ---
const promptSection = document.getElementById('prompt-section');
const promptDisplay = document.getElementById('prompt-display');
const generateBtn = document.getElementById('generate-btn');

const submissionArea = document.getElementById('submission-area');
const artifactInput = document.getElementById('artifact-input');
const submitBtn = document.getElementById('submit-btn');

const judgingArea = document.getElementById('judging-area');
const playerArtifactDisplay = document.getElementById('player-artifact');
const opponentArtifactDisplay = document.getElementById('opponent-artifact');
const revealBtn = document.getElementById('reveal-btn');

const resultArea = document.getElementById('result-area');

// --- The Game State (a simple object to hold info) ---
let gameState = {
    prompt: '',
    playerArtifact: ''
};

// --- THE GAME LOGIC ---

// 1. When the "Summon Prompt" button is clicked...
generateBtn.addEventListener('click', () => {
    // Pick a random prompt
    gameState.prompt = prompts[Math.floor(Math.random() * prompts.length)];
    promptDisplay.textContent = gameState.prompt;
    promptDisplay.classList.add('active');
    
    // Hide prompt stuff, show submission stuff
    generateBtn.style.display = 'none';
    submissionArea.classList.remove('hidden');
});

// 2. When the "Submit to the Oracle" button is clicked...
submitBtn.addEventListener('click', () => {
    const playerText = artifactInput.value;
    if (!playerText) {
        alert("The Oracle demands an artifact!");
        return;
    }

    // Save the player's submission
    gameState.playerArtifact = playerText;
    
    // Hide submission, show judging
    submissionArea.classList.add('hidden');
    judgingArea.style.display = 'block';

    // Display the artifacts for judgment
    playerArtifactDisplay.textContent = gameState.playerArtifact;
    opponentArtifactDisplay.textContent = opponentArtifacts[Math.floor(Math.random() * opponentArtifacts.length)];
});

// 3. When "Reveal Winner" is clicked...
revealBtn.addEventListener('click', () => {
    const playerWon = Math.random() > 0.5; // Still a 50/50 chance for now
    const winner = playerWon ? 'You' : 'The Opponent';
    const winnerArtifact = playerWon ? gameState.playerArtifact : opponentArtifactDisplay.textContent;
    const loserArtifact = playerWon ? opponentArtifactDisplay.textContent : gameState.playerArtifact;

    // --- Generate the AI Reasoning ---
    const phrase = reasoningPhrases[Math.floor(Math.random() * reasoningPhrases.length)];
    const moment = reasoningMoments[Math.floor(Math.random() * reasoningMoments.length)];
    const aiReasoning = `${phrase} ${moment}`;

    // --- Hide judging, show result ---
    judgingArea.style.display = 'none';
    resultArea.style.display = 'block';

    // --- Announce the winner with style ---
    if (playerWon) {
        resultArea.innerHTML = `
            <h2>The Oracle Has Spoken!</h2>
            <div class="artifact-card" style="border-color: var(--accent-gold);">
                <h4>üèÜ Winning Artifact: Your Submisson</h4>
                <p>${winnerArtifact}</p>
                <p><strong>The Oracle's Reasoning:</strong> ${aiReasoning}</p>
            </div>
            <div class="artifact-card">
                <h4>Losing Artifact:</h4>
                <p>${loserArtifact}</p>
            </div>
            <p>+10 XP Awarded. <span style="color: var(--accent-purple); font-style: italic;">Optimistic Democracy is available for this round.</span></p>
            <button onclick="location.reload()" class="button button-primary">Play Again</button>
        `;
    } else {
        resultArea.innerHTML = `
            <h2>The Oracle Has Spoken...</h2>
            <div class="artifact-card" style="border-color: var(--accent-gold);">
                <h4>üèÜ Winning Artifact: The Opponent's</h4>
                <p>${winnerArtifact}</p>
                <p><strong>The Oracle's Reasoning:</strong> ${aiReasoning}</p>
            </div>
            <div class="artifact-card">
                <h4>Your Artifact:</h4>
                <p>${loserArtifact}</p>
            </div>
            <p><span style="color: var(--accent-purple); font-style: italic; cursor: pointer; text-decoration: underline;" onmouseover="this.style.color='var(--accent-gold)'" onmouseout="this.style.color='var(--accent-purple)'">
                üëâ [You could have challenged this result with Optimistic Democracy.]
            </span></p>
            <p>+3 XP for participation.</p>
             <button onclick="location.reload()" class="button button-primary">Try Again</button>
        `;
    }
});

</script>

</body>
</html>